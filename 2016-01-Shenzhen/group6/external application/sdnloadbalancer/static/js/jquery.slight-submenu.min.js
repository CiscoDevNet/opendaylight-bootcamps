/*
 * jQuery Slight Submenu plugin
 * Author: Velidar Petrov
 * Version 1.1.0
 * Licensed under the MIT license
 */
(function(e,t,n,r){e.fn.slightSubmenu=function(t){var n=e.fn.slightSubmenu.defaults;var r=e.extend(true,{},n,t);this.each(function(){var t=[];var n=e(this).is("ul")?e(this):e("ul",this).first();var i=n.find("> li");n.addClass(r.topUlClass);i.addClass(r.topLiClass);if(r.applyInlineCss){n.css(r.topContainerInlineCss);i.css(r.directLiInlineCss)}var s=r.handlerGenerateButtonMarkup(r.buttonClass);i.each(function(){var n=e(this);var i=e("ul:first",this);if(i.length){i.addClass(r.submenuUlClass);n.addClass(r.topLiWithUlClass);i.hide(0);i.addClass(r.submenuUlClass);var o=e(s);if(r.applyInlineCss){o.css(r.buttonInlineCss);i.css(r.submenuUlInlineCss)}t.push(o[0]);if(r.prependButtons){n.prepend(o)}else{i.before(o)}}});var o=function(t){t.removeClass(r.buttonSubmenuOpenedClass);if(r.applyInlineCss){var n={};e.each(r.buttonActiveInlineCss,function(e){n[e]=""});t.css(n)}};e(t).on(r.buttonActivateEvents,function(t){var n=e(this);var i=n.parents("li").eq(0).find("ul:first");if(i.is(":animated")||i.find("> li").is(":animated")){return}if(e.inArray(t.type,r.buttonCloseNotSubmenuEvents.split(/\s+/))<=-1&&i.is(":visible")){o(n);r.handlerForceClose(i);return}i=i||n.parents("li").eq(0).find("ul:first");if(!r.multipleSubmenusOpenedAllowed){var s=i[0];var u=i.parents("ul").eq(0).find("> li").find("ul:first").filter(function(t,n){return n!==s&&e(n).is(":visible")});if(u.length){o(n);u.parent().find("."+r.buttonSubmenuOpenedClass).removeClass(r.buttonSubmenuOpenedClass);r.handlerForceClose(u)}}n.addClass(r.buttonSubmenuOpenedClass);if(r.applyInlineCss){n.css(r.buttonActiveInlineCss)}if(!i.is(":visible")){r.handlerButtonIn(i)}})});return this};e.fn.slightSubmenu.handlerButtonIn=function(e){e.show(1e3)};e.fn.slightSubmenu.handlerForceClose=function(e){e.hide(1e3)};e.fn.slightSubmenu.handlerGenerateButtonMarkup=function(e){return'<span class="'+e+'"></span>'};e.fn.slightSubmenu.defTopContainerInlineCss={position:"relative"};e.fn.slightSubmenu.defDirectLiInlineCss={};e.fn.slightSubmenu.defSubmenuUlInlineCss={};e.fn.slightSubmenu.defButtonActiveInlineCss={};e.fn.slightSubmenu.defButtonInlineCss={background:"#ccc",display:"inline",marginLeft:"8px",width:"10px",height:"18px",position:"absolute",cursor:"pointer"};e.fn.slightSubmenu.defaults={buttonActivateEvents:"click mouseenter",buttonCloseNotSubmenuEvents:"mouseenter",multipleSubmenusOpenedAllowed:true,prependButtons:false,applyInlineCss:false,topUlClass:"slight-submenu-master-ul",topLiClass:"",topLiWithUlClass:"li-with-ul",buttonClass:"slight-submenu-button",buttonSubmenuOpenedClass:"opened",submenuUlClass:"slight-submenu-ul",directLiInlineCss:e.fn.slightSubmenu.defDirectLiInlineCss,submenuUlInlineCss:e.fn.slightSubmenu.defSubmenuUlInlineCss,topContainerInlineCss:e.fn.slightSubmenu.defTopContainerInlineCss,buttonInlineCss:e.fn.slightSubmenu.defButtonInlineCss,buttonActiveInlineCss:e.fn.slightSubmenu.defButtonActiveInlineCss,handlerButtonIn:e.fn.slightSubmenu.handlerButtonIn,handlerForceClose:e.fn.slightSubmenu.handlerForceClose,handlerGenerateButtonMarkup:e.fn.slightSubmenu.handlerGenerateButtonMarkup}})(jQuery,window,document)